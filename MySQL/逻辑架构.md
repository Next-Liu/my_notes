![ ](D:\学习笔记\java\pictures\Snipaste_2024-01-31_00-55-55.png)

执行一条 SQL 查询语句，期间发生了什么？

- 连接器：建立连接，管理连接、校验用户身份；
- 查询缓存：查询语句如果命中查询缓存则直接返回，否则继续往下执行。MySQL 8.0 已删除该模块；
- 解析 SQL，通过解析器对 SQL 查询语句进行词法分析、语法分析，然后构建语法树，方便后续模块读取表名、字段、语句类型；
- 执行 SQL：执行 SQL 共有三个阶段：
  - 预处理阶段：检查表或字段是否存在；将 `select *` 中的 `*` 符号扩展为表上的所有列。
  - 优化阶段：基于查询成本的考虑， 选择查询成本最小的执行计划；
  - 执行阶段：根据执行计划执行 SQL 查询语句，从存储引擎读取记录，返回给客户端；

覆盖索引是指一个查询语句可以直接从索引中获取所需的数据，而无需访问表中的实际数据行。**这通常发生在一个索引包含了所有查询所需的列**。由于不需要额外的表查找，覆盖索引可以显著提高查询性能。 